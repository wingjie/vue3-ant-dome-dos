System.register(["./index-legacy.ed210335.js","./assignProp-legacy.2bef074d.js"],(function(a){"use strict";var e,t,l,o,r,n,d,i,u,s,f,m,p,c,v,y,D,M,g,w,_,k,b,x,h,A,q,C,L,$,j,F,I,O,S,N,R;return{setters:[function(a){e=a._,t=a.d,l=a.t,o=a.i,r=a.o,n=a.h,d=a.a,i=a.w,u=a.F,s=a.A,f=a.c,m=a.E,p=a.u,c=a.l,v=a.q,y=a.B,D=a.C,M=a.D,g=a.G,w=a.H,_=a.r,k=a.j,b=a.g,x=a.I,h=a.y,A=a.J,q=a.f,C=a.K,L=a.L,$=a.b,j=a.m,F=a.M,I=a.N},function(a){O=a._,S=a.i,N=a.m,R=a.a}],execute:function(){var E=e(t({__name:"sFormLayout",props:{modelData:{type:null,required:!0},fieldListMap:{type:Array,required:!0},formDataMap:{type:Object,required:!0},formData:{type:Object,required:!0},rowMsg:{type:null,required:!0},name:{type:Array,required:!0}},setup(a){const e=a,{modelData:t}=l(e);return(e,l)=>{var g;const w=o("a-col"),_=o("a-row");return r(),n("div",null,[d(_,D(M(null===(g=p(t))||void 0===g?void 0:g.rowAttr)),{default:i((()=>[(r(!0),n(u,null,s(a.fieldListMap,((l,o)=>{var d,s,D;return r(),f(w,{key:l.key+o,span:(null==l?void 0:l.span)||(null==l||null===(d=l.colAttr)||void 0===d?void 0:d.span),style:m({display:o<(p(t).expandNum||a.fieldListMap.length)?"block":"none",...null===(s=p(t))||void 0===s||null===(D=s.colAttr)||void 0===D?void 0:D.style})},{default:i((()=>{var d;return[l.type?(r(),n(u,{key:0},[!l.type||"slot"!==l.type&&"slotOut"!==l.type?v("v-if",!0):c(e.$slots,`${l.key}`,{key:0,field:l,mapData:a.formDataMap,data:a.formData}),l.isForm?(r(),f(O,y({key:1,ref_for:!0,ref:"formItemRef"},{...e.$attrs},{field:l,fieldIndex:o,modelData:p(t),mapData:a.formDataMap.value||a.formData,rowData:a.formData,formData:a.formData,isCore:a.formDataMap.value&&(null==l||null===(d=l.config)||void 0===d?void 0:d.isCore),rowMsg:a.rowMsg,name:[...a.name]}),{itemIn:i((o=>[l.type&&"slot"===l.type?c(e.$slots,`${l.key}In`,{key:0,data:o.data,mapData:a.formDataMap,model:p(t),field:o.field}):v("v-if",!0)])),itemSlot:i((t=>{var o,r;return["slot"===(null==l||null===(o=l.config)||void 0===o?void 0:o.type)?c(e.$slots,`${l.key}${null==l||null===(r=l.config)||void 0===r?void 0:r.key}In`,{key:0,data:t.data,field:t.field,mapData:a.formDataMap}):v("v-if",!0)]})),_:2},1040,["field","fieldIndex","modelData","mapData","rowData","formData","isCore","rowMsg","name"])):v("v-if",!0)],64)):v("v-if",!0)]})),_:2},1032,["span","style"])})),128))])),_:3},16),d(_,null,{default:i((()=>[c(e.$slots,"formRow",{data:a.formDataMap})])),_:3})])}}}),[["__file","/Users/wing/code/galaxy-halo/src/common/components/SForm/sFormLayout.vue"]]);const P={class:"app-container"},U={id:"components-form-demo-advanced-search"};a("_",e(t({__name:"index",props:{formModel:{type:null,required:!1,default:()=>({})},fieldList:{type:Array,required:!0,default:()=>[]},formData:{type:Object,required:!0,default:()=>({})},extra:{type:null,required:!1},name:{type:Array,required:!1,default:()=>[]}},setup(a,{expose:e}){const t=a,u=g(),m=w(),{formModel:v,fieldList:D,formData:M,name:O}=l(t),V=_(),B=_(),G=k({value:null}),H=_([]),J=k({isForm:!0,formAttr:{labelCol:{span:8},wrapperCol:{span:14},labelWrap:!0,class:"ant-advanced-search-form",style:{},model:G.value},rowAttr:{gutter:[24,0]},colAttr:{span:8,style:{}},follow:!0,expandNum:void 0,formItemAttr:{labelCol:{span:6,offset:0}},config:{isShowFindCodeName:!0,isForm:!0,disabled:!1,placeholder:"请填选","allow-clear":!0,maxlength:200}}),K=b((()=>O.value.length));S(J,["disabled"]),x((()=>{Object.prototype.hasOwnProperty.call(v.value,"async")&&N(v.value,v.value.async)}));const W=k({});function z(){const a=!1!==(null==W?void 0:W.follow);return G.value=a?M.value:I(M.value),{formDataMap:G.value,formData:M.value}}function Q(){Y(),G.value=null}function T(){return Object.assign(M.value,G.value),Q(),M.value}function X(a,e){return new Promise((t=>{V.value.validate(a).then((a=>{t({status:!0,data:{...a}}),e&&e({status:!0,data:{...a}})})).catch((a=>{t({status:!1,data:{...a}}),e&&e({status:!1,data:{...a}})}))}))}function Y(a){var e;null===(e=V.value)||void 0===e||e.clearValidate(a)}h((()=>{S(v.value,["disabled","span","rules"]),A(W,J,v.value),H.value=D.value.map((a=>R(a,W)))})),q((()=>[W.isForm,M.value]),(([a])=>{!0===a?z():Q()}),{immediate:!0,deep:!0});const Z=k({options:{},unit:{}}),aa=_({confirm:T,update:z,cancel:Q}),ea={clearValidate:Y,getData:function(){return I(G.value)},validate:X,findCodeItem:function(a,e){return B.value.findCodeItem(a,e)},update:z,cancel:Q,confirm:T,formRef:V,mapData:G},ta=k({});return x((()=>{V.value&&Object.keys(V.value).forEach((a=>{ta[a]=V.value[a]})),Object.keys(ea).forEach((a=>{ta[a]=ea[a]}))})),e(ta),(e,t)=>{const l=o("a-button"),D=o("a-form");return r(),n("div",P,[C($("div",null,[d(l,{onClick:t[0]||(t[0]=a=>X())},{default:i((()=>[j("校验测试")])),_:1}),d(l,{onClick:t[1]||(t[1]=a=>Y())},{default:i((()=>[j("清除校验测试")])),_:1})],512),[[L,!1]]),$("div",U,[p(K)?(r(),f(E,{key:1,modelData:p(W),formData:p(M),formDataMap:p(G),fieldListMap:p(H),rowMsg:p(Z),name:p(O)},F({_:2},[s(p(m),((t,l)=>({name:l,fn:i((t=>[c(e.$slots,l,y({model:p(W),way:p(aa),extra:a.extra},t))]))})))]),1032,["modelData","formData","formDataMap","fieldListMap","rowMsg","name"])):(r(),f(D,y({key:0,ref_key:"formRef",ref:V},{...p(u),...p(W).formAttr,...p(u).formAttr},{model:p(G).value}),{default:i((()=>[d(E,{modelData:p(W),formData:p(M),formDataMap:p(G),fieldListMap:p(H),rowMsg:p(Z),name:p(O)},F({_:2},[s(p(m),((t,l)=>({name:l,fn:i((t=>[c(e.$slots,l,y({model:p(W),way:p(aa),extra:a.extra},t))]))})))]),1032,["modelData","formData","formDataMap","fieldListMap","rowMsg","name"])])),_:3},16,["model"])),c(e.$slots,"formOut",{data:p(G).value,model:p(v)})])])}}}),[["__file","/Users/wing/code/galaxy-halo/src/common/components/SForm/index.vue"]]))}}}));
