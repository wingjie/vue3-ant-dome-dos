import{a as e}from"./index.08d64f08.js";import{_ as a}from"./index.45b5abdb.js";import{_ as t,d as l,Y as s,J as o,E as A,t as n,r,y as i,u,g as c,U as f,j as p,c3 as E,f as v,P as m,K as B,o as d,h as C,a as D,I as y,A as b,w as g,l as k,C as x,D as h,b as F,c as _,B as O,q as j,X as S}from"./index.9007bae4.js";import"./assign.63c28320.js";import"./validate.92c083dc.js";/* empty css                                                          */import{a as w,d as R}from"./form.6e3b09cc.js";import{_ as Y}from"./index.6b28bf45.js";const M={class:"pagesBox search-form-area"},q={class:"action"},L={key:0,class:"iconRow"};var H=t(l({__name:"index",props:{fieldList:{type:Array,required:!0},formModel:{type:null,required:!0},formData:{type:Object,required:!0},presetButton:{type:Boolean,required:!1,default:!0},onOff:{type:Boolean,required:!1},button:{type:Object,required:!1}},emits:["update:onOff","search"],setup(t,{expose:l,emit:R}){const H=t,I=s("isInLayout",!1),U=o(),$=A(),{fieldList:z,formModel:P,formData:T,presetButton:J,onOff:K,button:X}=n(H),G=r();i((()=>{G.value=z.value.map((e=>({...e,label:"",title:e.label,config:{placeholder:e.label,...e?.config?e.config:{}}}))).filter((e=>!1!==u(e.checked)))}));const N=w((()=>({span:6,rowAttr:{style:{marginLeft:"-8px",marginRight:"-8px"}},colAttr:{style:{paddingLeft:"8px",paddingRight:"8px"}},config:{keyup({e:e}){"Enter"===e.code&&oe()}}}))),Q=c((()=>f({},N,P.value))),V=c((()=>G.value.reduce(((e,a)=>e+(a?.config?.span||a?.span||Q.value?.span||0)),0))),W=r(K?.value||!(V.value>=72)),Z=c((()=>24-(W.value?V.value:te.value)%24)),ee=p({key:"action",span:c((()=>Z.value)),type:"slotOut"}),ae=c((()=>{let e;return e=E(G.value),W.value||I||(e=e.splice(0,3)),e})),te=c((()=>ae.value.reduce(((e,a)=>e+(a?.config?.span||a?.span||Q.value?.span||0)),0))),le=c((()=>ae.value.map((e=>e.key))));function se(){if($?.onReset)return void $.onReset();Object.keys(T?.value||{}).forEach((e=>{"string"===m(T?.value[e])&&(T.value[e]=void 0),"object"===m(T?.value[e])&&(T.value[e]={}),"array"===m(T?.value[e])&&(T.value[e]=[])})),Ae?.value?.resetFields(),$?.onResetPost?.()}async function oe(e=!0){if($?.["onSearch:false"])return void $?.["onSearch:false"]?.({onOff:W.value,formData:T.value});let a={status:!0};!1!==e&&(a=await(Ae?.value?.validate())??a),!0===a.status?R("search",{onOff:W.value,formData:T.value}):S.warning("查询条件不符合规则！")}v((()=>W.value),(e=>{if(R("update:onOff",e),!e){Object.keys(T?.value||{}).forEach((e=>{le.value.includes(e)||("string"===m(T?.value[e])&&(T.value[e]=void 0),"object"===m(T?.value[e])&&(T.value[e]={}),"array"===m(T?.value[e])&&(T.value[e]=[]))}))}}));const Ae=r(),ne=p({});return B((()=>{if(Ae.value){Object.keys(Ae.value).forEach((e=>{ne[e]=Ae.value[e]}))}})),l(ne),(t,l)=>{const s=a,o=e;return d(),C("div",M,[D(Y,O({ref_key:"formRef",ref:Ae},u($),{fieldList:[...u(ae),u(ee)],formModel:u(Q),formData:u(T)}),y({action:g((()=>[F("div",q,[!1!==u(J)?(d(),_(s,O({key:0},{onSearch:oe,onReset:se,...u(X)||{}},{setup:{search:{text:"搜索"},...u(X)?.setup||{}}}),null,16,["setup"])):j("v-if",!0),k(t.$slots,"default",{onOff:u(W)},void 0,!0)])])),_:2},[b(u(U),((e,a)=>({name:a,fn:g((e=>[k(t.$slots,a,x(h(e)),void 0,!0)]))})))]),1040,["fieldList","formModel","formData"]),u(V)>=72&&!u(I)?(d(),C("div",L,[u(W)?(d(),_(o,{key:0,name:"search-up",fontSize:"100px",style:{margin:"auto",height:"20px"},onClick:l[0]||(l[0]=e=>W.value=!u(W))})):(d(),_(o,{key:1,name:"search-unfold-flip",fontSize:"100px",style:{margin:"auto",height:"20px"},onClick:l[1]||(l[1]=e=>W.value=!u(W))}))])):j("v-if",!0)])}}}),[["__scopeId","data-v-fb56fc62"],["__file","/Users/wing/code/self/vue3-ant-dome-dos/src/common/components/SpaceUI/SSearchForm/index.vue"]]);const I=F("div",null,"默认插槽",-1);var U=t(l({__name:"base",setup(e,{expose:a}){const t=p(R((()=>[{name:"",sex:null,nature:null,like:null},[{label:"名称",key:"name",type:"input"},{label:"性别",key:"sex",type:"select"},{label:"性格",key:"nature",type:"select"},{label:"爱好",key:"like",type:"select"},{label:"日期",key:"time",type:"date-picker",config:{valueFormat:"YYYY-MM-DD HH:mm:ss"}},{label:"备注",key:"remark",type:"textarea",config:{rows:1}}],{optionsData:{nature:[{label:"活泼",value:"lively"},{label:"开朗",value:"outgoing"}],sex:[{label:"男",value:"man"},{label:"女",value:"woman"}],like:[{label:"唱歌",value:"sing"},{label:"跳舞",value:"dance"}]}}]))),l=({onOff:e,formData:a})=>{S.success("搜索")},s=()=>{S.success("清空")};return a({originCode:"%3Ctemplate%3E%0A%20%20%3Cdiv%3E%0A%20%20%20%20%3CSSearchForm%0A%20%20%20%20%20%20v-bind%3D%22formOption%22%0A%20%20%20%20%20%20%40search%3D%22search%22%0A%20%20%20%20%20%20%40reset%3D%22reset%22%0A%20%20%20%20%20%20%3ApresetButton%3D%22true%22%0A%20%20%20%20%20%20%3AonOff%3D%22false%22%0A%20%20%20%20%3E%0A%20%20%20%20%20%20%3Cdiv%3E%E9%BB%98%E8%AE%A4%E6%8F%92%E6%A7%BD%3C%2Fdiv%3E%0A%20%20%20%20%3C%2FSSearchForm%3E%0A%20%20%3C%2Fdiv%3E%0A%3C%2Ftemplate%3E%0A%3Cscript%20setup%20lang%3D%22ts%22%3E%0Aimport%20%7B%20message%20%7D%20from%20'ant-design-vue'%0Aimport%20%7B%20defineForm%20%7D%20from%20'%40%2Fcommon%2Futils%2Fdefine%2Fform'%0A%0Aconst%20formOption%20%3D%20reactive(%0A%20%20defineForm(()%20%3D%3E%20%7B%0A%20%20%20%20return%20%5B%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20name%3A%20''%2C%0A%20%20%20%20%20%20%20%20sex%3A%20null%2C%0A%20%20%20%20%20%20%20%20nature%3A%20null%2C%0A%20%20%20%20%20%20%20%20like%3A%20null%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%5B%0A%20%20%20%20%20%20%20%20%7B%20label%3A%20'%E5%90%8D%E7%A7%B0'%2C%20key%3A%20'name'%2C%20type%3A%20'input'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20label%3A%20'%E6%80%A7%E5%88%AB'%2C%20key%3A%20'sex'%2C%20type%3A%20'select'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20label%3A%20'%E6%80%A7%E6%A0%BC'%2C%20key%3A%20'nature'%2C%20type%3A%20'select'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20label%3A%20'%E7%88%B1%E5%A5%BD'%2C%20key%3A%20'like'%2C%20type%3A%20'select'%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20label%3A%20'%E6%97%A5%E6%9C%9F'%2C%0A%20%20%20%20%20%20%20%20%20%20key%3A%20'time'%2C%0A%20%20%20%20%20%20%20%20%20%20type%3A%20'date-picker'%2C%0A%20%20%20%20%20%20%20%20%20%20config%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20valueFormat%3A%20'YYYY-MM-DD%20HH%3Amm%3Ass'%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20label%3A%20'%E5%A4%87%E6%B3%A8'%2C%0A%20%20%20%20%20%20%20%20%20%20key%3A%20'remark'%2C%0A%20%20%20%20%20%20%20%20%20%20type%3A%20'textarea'%2C%0A%20%20%20%20%20%20%20%20%20%20config%3A%20%7B%20rows%3A%201%20%7D%2C%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20optionsData%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20nature%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20label%3A%20'%E6%B4%BB%E6%B3%BC'%2C%20value%3A%20'lively'%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20label%3A%20'%E5%BC%80%E6%9C%97'%2C%20value%3A%20'outgoing'%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20sex%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20label%3A%20'%E7%94%B7'%2C%20value%3A%20'man'%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20label%3A%20'%E5%A5%B3'%2C%20value%3A%20'woman'%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20like%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20label%3A%20'%E5%94%B1%E6%AD%8C'%2C%20value%3A%20'sing'%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20label%3A%20'%E8%B7%B3%E8%88%9E'%2C%20value%3A%20'dance'%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%5D%0A%20%20%7D)%0A)%0Aconst%20search%20%3D%20(%7B%20onOff%2C%20formData%20%7D%3A%20%7B%20onOff%3A%20boolean%3B%20formData%3A%20object%20%7D)%20%3D%3E%20%7B%0A%20%20console.log(onOff%2C%20formData%2C%20'msg')%0A%20%20message.success('%E6%90%9C%E7%B4%A2')%0A%7D%0Aconst%20reset%20%3D%20()%20%3D%3E%20%7B%0A%20%20message.success('%E6%B8%85%E7%A9%BA')%0A%7D%0Aconst%20%24config%20%3D%20ref(%7B%0A%20%20title%3A%20'%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8'%2C%0A%20%20context%3A%20%60%0A%20%20%E5%9F%BA%E4%BA%8ESForm%E8%BF%9B%E8%A1%8C%E5%B0%81%E8%A3%85%2C%E5%B0%86label%E5%AD%97%E6%AE%B5%E8%BD%AC%E6%8D%A2%E4%B8%BAplaceholder%E8%BF%9B%E8%A1%8C%E5%B1%95%E7%A4%BA%0A%20%20%E6%B7%BB%E5%8A%A0%E4%BA%86%E6%90%9C%E7%B4%A2%E5%92%8C%E9%87%8D%E7%BD%AE(reset)%E4%B8%A4%E4%B8%AA%E9%BB%98%E8%AE%A4%E6%8C%89%E9%92%AE(search)%0A%20%20%60%2C%0A%20%20contextType%3A%20'pre'%2C%0A%7D)%0AdefineExpose(%7B%0A%20%20%24config%2C%0A%7D)%0A%3C%2Fscript%3E%0A%3Cstyle%20scoped%20lang%3D%22scss%22%3E%3C%2Fstyle%3E%0A",$config:r({title:"基础使用",context:"\n  基于SForm进行封装,将label字段转换为placeholder进行展示\n  添加了搜索和重置(reset)两个默认按钮(search)\n  ",contextType:"pre"})}),(e,a)=>{const o=H;return d(),C("div",null,[D(o,O(u(t),{onSearch:l,onReset:s,presetButton:!0,onOff:!1}),{default:g((()=>[I])),_:1},16)])}}}),[["__file","/Users/wing/code/self/vue3-ant-dome-dos/src/views/SSearchForm/automation/base.vue"]]);export{U as default};
