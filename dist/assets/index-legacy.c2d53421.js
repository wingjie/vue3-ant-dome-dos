System.register(["./index-legacy.d695e646.js","./assign-legacy.045c00a8.js"],(function(a){"use strict";var e,t,o,l,r,n,d,i,u,s,m,f,p,v,c,y,D,w,M,g,_,k,U,b,x,A,h,q,C,I,$,F,L,O,j,S,R,N,E,B;return{setters:[function(a){e=a._,t=a.d,o=a.E,l=a.t,r=a.g,n=a.i,d=a.o,i=a.h,u=a.a,s=a.w,m=a.F,f=a.A,p=a.u,v=a.c,c=a.G,y=a.l,D=a.q,w=a.B,M=a.C,g=a.D,_=a.H,k=a.r,U=a.j,b=a.I,x=a.y,A=a.J,h=a.f,q=a.K,C=a.L,I=a.b,$=a.m,F=a.M,L=a.N,O=a.O},function(a){j=a.g,S=a._,R=a.i,N=a.m,E=a.a,B=a.b}],execute:function(){var P=e(t({__name:"SFormLayout",props:{modelData:{type:null,required:!0},fieldListMap:{type:Array,required:!0},formDataMap:{type:[Object,null],required:!0},formData:{type:Object,required:!0},rowMsg:{type:null,required:!0},name:{type:Array,required:!0}},setup(a){const e=a,t=o(),{modelData:_,formDataMap:k,formData:U,fieldListMap:b}=l(e),x=r((()=>k.value)),A=r((()=>U.value)),h=r((()=>j(b).filter((a=>!1!==j(null==a?void 0:a.checked)))));return(e,o)=>{var l;const r=n("a-col"),b=n("a-row");return d(),i("div",null,[u(b,M(g(null===(l=p(_))||void 0===l?void 0:l.rowAttr)),{default:s((()=>[(d(!0),i(m,null,f(p(h),((o,l)=>{var n,u,f;return d(),v(r,{key:o.key+l,span:(null==o?void 0:o.span)||(null==o||null===(n=o.colAttr)||void 0===n?void 0:n.span),style:c({display:l<(p(_).expandNum||p(h).length)?"block":"none",...null===(u=p(_))||void 0===u||null===(f=u.colAttr)||void 0===f?void 0:f.style})},{default:s((()=>{var r,n;return[o.type?(d(),i(m,{key:0},[!o.type||"slot"!==o.type&&"slotOut"!==o.type?D("v-if",!0):y(e.$slots,`${o.key}`,{key:0,field:o,mapData:p(x),data:p(A)}),o.isForm?(d(),v(S,w({key:1,ref_for:!0,ref:"formItemRef"},{...p(t),...null!==(r=p(t))&&void 0!==r&&r["onUpdate:formDataMap"]?{"onUpdate:mapData"(a){var e;null===(e=p(t))||void 0===e||e["onUpdate:formDataMap"]({...p(k),...a})}}:{},...null!==(n=p(t))&&void 0!==n&&n["onUpdate:formData"]?{"onUpdate:rowData"(a){var e;null===(e=p(t))||void 0===e||e["onUpdate:formData"]({...p(U),...a})}}:{}},{field:o,fieldIndex:l,modelData:p(_),mapData:p(x),rowData:p(A),formData:p(A),isCore:Boolean(p(x)),rowMsg:a.rowMsg,name:[...a.name]}),{itemIn:s((a=>[o.type&&"slot"===o.type?y(e.$slots,`${o.key}In`,{key:0,data:a.data,mapData:p(x),model:p(_),field:a.field}):D("v-if",!0)])),itemSlot:s((a=>{var t,l,r;return["slot"===(null==o||null===(t=o.config)||void 0===t?void 0:t.$type)||"slot"===(null==o||null===(l=o.config)||void 0===l?void 0:l.type)?y(e.$slots,`${o.key}${null==o||null===(r=o.config)||void 0===r?void 0:r.key}In`,{key:0,data:a.data,field:a.field,mapData:p(x)}):D("v-if",!0)]})),_:2},1040,["field","fieldIndex","modelData","mapData","rowData","formData","isCore","rowMsg","name"])):D("v-if",!0)],64)):D("v-if",!0)]})),_:2},1032,["span","style"])})),128))])),_:3},16),u(b,null,{default:s((()=>[y(e.$slots,"formRow",{data:p(x)})])),_:3})])}}}),[["__file","/Users/wing/code/self/vue3-ant-dome-dos/src/common/components/SpaceUI/SForm/SFormLayout.vue"]]);const V={class:"app-container"},z={id:"components-form-demo-advanced-search"};a("_",e(t({__name:"index",props:{formModel:{type:null,required:!1,default:()=>({})},fieldList:{type:Array,required:!0,default:()=>[]},formData:{type:Object,required:!0,default:()=>({})},extra:{type:null,required:!1},name:{type:Array,required:!1}},setup(a,{expose:e}){const t=a,m=o(),c=_(),{formModel:D,fieldList:M,formData:g,name:j}=l(t),S=k(),G=k(),H=k({}),J=k([]),K=U({isForm:!0,formAttr:{labelCol:{span:8},wrapperCol:{span:24},labelWrap:!0,class:"ant-advanced-search-form",style:{},model:H.value},rowAttr:{gutter:[24,0]},colAttr:{span:8,style:{}},follow:!0,expandNum:void 0,formItemAttr:{labelCol:{span:6,offset:0}},config:{"auto-size":{minRows:1,maxRows:5},trim:!0,isShowFindCodeName:!0,isForm:!0,isCore:!0,disabled:!1,placeholder:"请填选","allow-clear":!0,maxlength:200}}),W=r((()=>null==j?void 0:j.value));R(K,["disabled"]),b((()=>{Object.prototype.hasOwnProperty.call(D.value,"async")&&N(D.value,D.value.async)}));const Q=k({});function T(){var a;const e=!1!==(null===(a=Q.value)||void 0===a?void 0:a.follow);return H.value=e?g.value:L(g.value),{formDataMap:H.value,formData:g.value}}function X(){aa(),H.value=null}function Y(){return Object.assign(g.value,H.value),X(),g.value}function Z(a,e){if(!1!==p(D.value.isForm))return new Promise((t=>{S.value.validate("array"===O(a)||"string"===O(a)?a:void 0).then((o=>{t({status:!0,data:{...o}}),"function"===O(a)&&a({status:!0,data:{...o}}),e&&e({status:!0,data:{...o}})})).catch((a=>{t({status:!1,data:{...a}}),e&&e({status:!1,data:{...a}})}))}))}function aa(a){var e;null===(e=S.value)||void 0===e||e.clearValidate(a)}x((()=>{R(D.value,["disabled","span","rules"]),Q.value=E({},A(K),A(D.value)),J.value=M.value.map((a=>B(a,Q.value)))})),h((()=>[Q.value.isForm,g.value]),(([a])=>{!0===a?T():X()}),{immediate:!0,deep:!0});const ea=U({options:{},unit:{}}),ta=k({confirm:Y,update:T,cancel:X}),oa={clearValidate:aa,getData:function(){return L(H.value)},validate:Z,findCodeItem:function(a,e){return G.value.findCodeItem(a,e)},update:T,cancel:X,confirm:Y,formRef:S,mapData:H},la=U({});return b((()=>{S.value&&Object.keys(S.value).forEach((a=>{la[a]=S.value[a]})),Object.keys(oa).forEach((a=>{la[a]=oa[a]}))})),e(la),(e,t)=>{var o;const l=n("a-button"),r=n("a-form");return d(),i("div",V,[q(I("div",null,[u(l,{onClick:t[0]||(t[0]=a=>Z())},{default:s((()=>[$("校验测试")])),_:1}),u(l,{onClick:t[1]||(t[1]=a=>aa())},{default:s((()=>[$("清除校验测试")])),_:1})],512),[[C,!1]]),I("div",z,[p(W)?(d(),v(P,w({key:1},{...p(m),...null!==(o=p(m))&&void 0!==o&&o["onUpdate:formData"]?{"onUpdate:formData"(a){var e;null===(e=p(m))||void 0===e||e["onUpdate:formData"]({...p(g),...a})},"onUpdate:formDataMap"(a){var e;null===(e=p(m))||void 0===e||e["onUpdate:formData"]({...p(g),...a})}}:{}},{modelData:p(Q),formData:p(g),formDataMap:p(H),fieldListMap:p(J),rowMsg:p(ea),name:p(j)?p(j):[]}),F({_:2},[f(p(c),((t,o)=>({name:o,fn:s((t=>[y(e.$slots,o,w({model:p(Q),way:p(ta),extra:a.extra},t))]))})))]),1040,["modelData","formData","formDataMap","fieldListMap","rowMsg","name"])):(d(),v(r,w({key:0,ref_key:"formRef",ref:S},{...p(m),...p(Q).formAttr,...p(m).formAttr},{model:p(H)}),{default:s((()=>{var t;return[u(P,w({...p(m),...null!==(t=p(m))&&void 0!==t&&t["onUpdate:formData"]?{"onUpdate:formData"(a){var e;null===(e=p(m))||void 0===e||e["onUpdate:formData"]({...p(g),...a})},"onUpdate:formDataMap"(a){var e;null===(e=p(m))||void 0===e||e["onUpdate:formData"]({...p(g),...a})}}:{}},{modelData:p(Q),formData:p(g),formDataMap:p(H),fieldListMap:p(J),rowMsg:p(ea),name:p(j)?p(j):[]}),F({_:2},[f(p(c),((t,o)=>({name:o,fn:s((t=>[y(e.$slots,o,w({model:p(Q),way:p(ta),extra:a.extra},t))]))})))]),1040,["modelData","formData","formDataMap","fieldListMap","rowMsg","name"])]})),_:3},16,["model"])),y(e.$slots,"formOut",{data:p(H),model:p(D)})])])}}}),[["__file","/Users/wing/code/self/vue3-ant-dome-dos/src/common/components/SpaceUI/SForm/index.vue"]]))}}}));
